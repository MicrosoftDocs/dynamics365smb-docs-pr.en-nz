---
title: Schedule jobs to run automatically | Microsoft Docs
description: Scheduled tasks are managed by the job queue. These jobs run reports and codeunits. You can set jobs to run one time, or on a recurring basis.
author: edupont04
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/01/2017
ms.author: edupont
ms.translationtype: HT
ms.sourcegitcommit: bec0619be0a65e3625759e13d2866ac615d7513c
ms.openlocfilehash: b679c2762c67c6d78bcc6be293e6aabde4a58848
ms.contentlocale: en-nz
ms.lasthandoff: 01/30/2018

---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="28a6a-105">Use Job Queues to Schedule Tasks</span><span class="sxs-lookup"><span data-stu-id="28a6a-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="28a6a-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span><span class="sxs-lookup"><span data-stu-id="28a6a-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="28a6a-107">You can set jobs to run one time, or on a recurring basis.</span><span class="sxs-lookup"><span data-stu-id="28a6a-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="28a6a-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span><span class="sxs-lookup"><span data-stu-id="28a6a-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>  

## <a name="add-jobs-to-the-job-queue"></a><span data-ttu-id="28a6a-109">Add Jobs to the Job Queue</span><span class="sxs-lookup"><span data-stu-id="28a6a-109">Add Jobs to the Job Queue</span></span>
<span data-ttu-id="28a6a-110">The **Job Queue Entries** window lists all existing jobs.</span><span class="sxs-lookup"><span data-stu-id="28a6a-110">The **Job Queue Entries** window lists all existing jobs.</span></span> <span data-ttu-id="28a6a-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span><span class="sxs-lookup"><span data-stu-id="28a6a-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="28a6a-112">You can also add parameters to specify the behavior of the job queue entry.</span><span class="sxs-lookup"><span data-stu-id="28a6a-112">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="28a6a-113">For example, you can add a parameter to only send posted sales orders.</span><span class="sxs-lookup"><span data-stu-id="28a6a-113">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="28a6a-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span><span class="sxs-lookup"><span data-stu-id="28a6a-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="28a6a-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span><span class="sxs-lookup"><span data-stu-id="28a6a-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span></span> <span data-ttu-id="28a6a-116">Job queue categories can be used to group jobs in the list.</span><span class="sxs-lookup"><span data-stu-id="28a6a-116">Job queue categories can be used to group jobs in the list.</span></span>

[!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="28a6a-117"> automatically runs the jobs according to the specified schedules for each job queue entry.</span><span class="sxs-lookup"><span data-stu-id="28a6a-117">automatically runs the jobs according to the specified schedules for each job queue entry.</span></span> <span data-ttu-id="28a6a-118">You can also start, stop, and put a job queue entry on hold manually.</span><span class="sxs-lookup"><span data-stu-id="28a6a-118">You can also start, stop, and put a job queue entry on hold manually.</span></span>

### <a name="log-files"></a><span data-ttu-id="28a6a-119">Log Files</span><span class="sxs-lookup"><span data-stu-id="28a6a-119">Log Files</span></span>
<span data-ttu-id="28a6a-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span><span class="sxs-lookup"><span data-stu-id="28a6a-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span></span> <span data-ttu-id="28a6a-121">You can also troubleshoot job queue errors.</span><span class="sxs-lookup"><span data-stu-id="28a6a-121">You can also troubleshoot job queue errors.</span></span> <span data-ttu-id="28a6a-122">Data that is generated when a job queue is run is stored in the database.</span><span class="sxs-lookup"><span data-stu-id="28a6a-122">Data that is generated when a job queue is run is stored in the database.</span></span>  

### <a name="background-posting-with-job-queues"></a><span data-ttu-id="28a6a-123">Background Posting with Job Queues</span><span class="sxs-lookup"><span data-stu-id="28a6a-123">Background Posting with Job Queues</span></span>
<span data-ttu-id="28a6a-124">Job queues are an effective tool to schedule the running of business processes in the background.</span><span class="sxs-lookup"><span data-stu-id="28a6a-124">Job queues are an effective tool to schedule the running of business processes in the background.</span></span> <span data-ttu-id="28a6a-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span><span class="sxs-lookup"><span data-stu-id="28a6a-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span></span> <span data-ttu-id="28a6a-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span><span class="sxs-lookup"><span data-stu-id="28a6a-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span></span>  

 <span data-ttu-id="28a6a-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organisation.</span><span class="sxs-lookup"><span data-stu-id="28a6a-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="28a6a-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span><span class="sxs-lookup"><span data-stu-id="28a6a-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="28a6a-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span><span class="sxs-lookup"><span data-stu-id="28a6a-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span></span>  

 [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="28a6a-130"> supports background posting for the following document types:</span><span class="sxs-lookup"><span data-stu-id="28a6a-130">supports background posting for the following document types:</span></span>  

-   <span data-ttu-id="28a6a-131">Sales: sales order, return order, credit memo, invoice</span><span class="sxs-lookup"><span data-stu-id="28a6a-131">Sales: sales order, return order, credit memo, invoice</span></span>  

-   <span data-ttu-id="28a6a-132">Purchases: purchase order, return order, credit memo, invoice</span><span class="sxs-lookup"><span data-stu-id="28a6a-132">Purchases: purchase order, return order, credit memo, invoice</span></span>  

 <span data-ttu-id="28a6a-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span><span class="sxs-lookup"><span data-stu-id="28a6a-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="28a6a-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span><span class="sxs-lookup"><span data-stu-id="28a6a-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span></span>  

<span data-ttu-id="28a6a-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span><span class="sxs-lookup"><span data-stu-id="28a6a-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span></span> <span data-ttu-id="28a6a-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span><span class="sxs-lookup"><span data-stu-id="28a6a-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span></span> <span data-ttu-id="28a6a-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span><span class="sxs-lookup"><span data-stu-id="28a6a-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span></span> <span data-ttu-id="28a6a-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span><span class="sxs-lookup"><span data-stu-id="28a6a-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="28a6a-139">If you set up a job that will post and print documents, and the printer displays a dialogue box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span><span class="sxs-lookup"><span data-stu-id="28a6a-139">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="28a6a-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span><span class="sxs-lookup"><span data-stu-id="28a6a-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="28a6a-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialogue boxes in conjunction with background posting.</span><span class="sxs-lookup"><span data-stu-id="28a6a-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>  

## <a name="use-the-my-job-queue-part"></a><span data-ttu-id="28a6a-142">Use the My Job Queue Part</span><span class="sxs-lookup"><span data-stu-id="28a6a-142">Use the My Job Queue Part</span></span>
<span data-ttu-id="28a6a-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span><span class="sxs-lookup"><span data-stu-id="28a6a-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span></span> <span data-ttu-id="28a6a-144">By default, the part is not visible, so you have to add it to your Role Centre.</span><span class="sxs-lookup"><span data-stu-id="28a6a-144">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="28a6a-145">For more information, see [Change Role Centres](change-role.md).</span><span class="sxs-lookup"><span data-stu-id="28a6a-145">For more information, see [Change Role Centers](change-role.md).</span></span>  

<span data-ttu-id="28a6a-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span><span class="sxs-lookup"><span data-stu-id="28a6a-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span></span> <span data-ttu-id="28a6a-147">The part helps you keep track of all job queue entries, including those related to background posting.</span><span class="sxs-lookup"><span data-stu-id="28a6a-147">The part helps you keep track of all job queue entries, including those related to background posting.</span></span> <span data-ttu-id="28a6a-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span><span class="sxs-lookup"><span data-stu-id="28a6a-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="28a6a-149">The part also lets you cancel a document posting if it is not running.</span><span class="sxs-lookup"><span data-stu-id="28a6a-149">The part also lets you cancel a document posting if it is not running.</span></span>  

## <a name="security"></a><span data-ttu-id="28a6a-150">Security</span><span class="sxs-lookup"><span data-stu-id="28a6a-150">Security</span></span>  
<span data-ttu-id="28a6a-151">Job queue entries run based on permissions.</span><span class="sxs-lookup"><span data-stu-id="28a6a-151">Job queue entries run based on permissions.</span></span> <span data-ttu-id="28a6a-152">Those permissions must allow the execution of the report or codeunit.</span><span class="sxs-lookup"><span data-stu-id="28a6a-152">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="28a6a-153">When a job queue is activated manually, it is run with the credentials of the user.</span><span class="sxs-lookup"><span data-stu-id="28a6a-153">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="28a6a-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span><span class="sxs-lookup"><span data-stu-id="28a6a-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="28a6a-155">When a job is run, it is run with the credentials of the job queue that activates it.</span><span class="sxs-lookup"><span data-stu-id="28a6a-155">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="28a6a-156">However, the user who created that job queue entry must also have permissions.</span><span class="sxs-lookup"><span data-stu-id="28a6a-156">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="28a6a-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span><span class="sxs-lookup"><span data-stu-id="28a6a-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="28a6a-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span><span class="sxs-lookup"><span data-stu-id="28a6a-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="28a6a-159">In this case, access for each user is only limited by permissions for data.</span><span class="sxs-lookup"><span data-stu-id="28a6a-159">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="28a6a-160">Using Job Queues Effectively</span><span class="sxs-lookup"><span data-stu-id="28a6a-160">Using Job Queues Effectively</span></span>  
<span data-ttu-id="28a6a-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span><span class="sxs-lookup"><span data-stu-id="28a6a-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="28a6a-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span><span class="sxs-lookup"><span data-stu-id="28a6a-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="28a6a-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span><span class="sxs-lookup"><span data-stu-id="28a6a-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="28a6a-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span><span class="sxs-lookup"><span data-stu-id="28a6a-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="28a6a-165">See Also</span><span class="sxs-lookup"><span data-stu-id="28a6a-165">See Also</span></span>  
[<span data-ttu-id="28a6a-166">Setup and Administration in Finance and Operations, Business edition</span><span class="sxs-lookup"><span data-stu-id="28a6a-166">Setup and Administration in Finance and Operations, Business edition</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="28a6a-167">Setting Up Finance and Operations, Business edition</span><span class="sxs-lookup"><span data-stu-id="28a6a-167">Setting Up Finance and Operations, Business edition</span></span>](setup.md)  

