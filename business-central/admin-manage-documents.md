---
title: Manage storage by deleting documents or compressing data
description: Learn how you can keep your historical data by compressing ledger entries, or delete it.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: 05e5078253d63fac61039d26cc0d700e96c7d21a
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: en-NZ
ms.lasthandoff: 10/01/2020
ms.locfileid: "3911296"
---
# <a name="manage-storage-by-deleting-documents-or-compressing-data"></a><span data-ttu-id="f4122-103">Manage Storage by Deleting Documents or Compressing Data</span><span class="sxs-lookup"><span data-stu-id="f4122-103">Manage Storage by Deleting Documents or Compressing Data</span></span>

<span data-ttu-id="f4122-104">A central role, such as the application administrator, must regularly deal with accumulating historic documents by deleting or compressing them.</span><span class="sxs-lookup"><span data-stu-id="f4122-104">A central role, such as the application administrator, must regularly deal with accumulating historic documents by deleting or compressing them.</span></span>  

## <a name="delete-documents"></a><span data-ttu-id="f4122-105">Delete Documents</span><span class="sxs-lookup"><span data-stu-id="f4122-105">Delete Documents</span></span>

<span data-ttu-id="f4122-106">In certain situations, you may need to delete invoiced purchase orders that have not been deleted.</span><span class="sxs-lookup"><span data-stu-id="f4122-106">In certain situations, you may need to delete invoiced purchase orders that have not been deleted.</span></span> [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="f4122-107">checks that you have fully invoiced the deleted purchase orders.</span><span class="sxs-lookup"><span data-stu-id="f4122-107">checks that you have fully invoiced the deleted purchase orders.</span></span> <span data-ttu-id="f4122-108">You cannot delete orders that you have not fully invoiced and received.</span><span class="sxs-lookup"><span data-stu-id="f4122-108">You cannot delete orders that you have not fully invoiced and received.</span></span>  

<span data-ttu-id="f4122-109">Return orders are usually deleted after they are invoiced.</span><span class="sxs-lookup"><span data-stu-id="f4122-109">Return orders are usually deleted after they are invoiced.</span></span> <span data-ttu-id="f4122-110">When you post an invoice, it is transferred to the **Posted Purchase Credit Memo** page.</span><span class="sxs-lookup"><span data-stu-id="f4122-110">When you post an invoice, it is transferred to the **Posted Purchase Credit Memo** page.</span></span> <span data-ttu-id="f4122-111">If you selected the **Return Shipment on Credit Memo** check box on the **Purchases & Payable Setup** page, then the invoice is transferred to the **Posted Return Shipment** page.</span><span class="sxs-lookup"><span data-stu-id="f4122-111">If you selected the **Return Shipment on Credit Memo** check box on the **Purchases & Payable Setup** page, then the invoice is transferred to the **Posted Return Shipment** page.</span></span> <span data-ttu-id="f4122-112">You can delete the documents using the **Delete Invd Purch. Ret. Orders** batch job.</span><span class="sxs-lookup"><span data-stu-id="f4122-112">You can delete the documents using the **Delete Invd Purch. Ret. Orders** batch job.</span></span> <span data-ttu-id="f4122-113">Before deleting, the batch job checks if the purchase return orders are fully shipped and invoiced.</span><span class="sxs-lookup"><span data-stu-id="f4122-113">Before deleting, the batch job checks if the purchase return orders are fully shipped and invoiced.</span></span>  

<span data-ttu-id="f4122-114">Blanket purchase orders are not deleted after you have processed and invoiced all the related purchase orders.</span><span class="sxs-lookup"><span data-stu-id="f4122-114">Blanket purchase orders are not deleted after you have processed and invoiced all the related purchase orders.</span></span> <span data-ttu-id="f4122-115">You can delete blanket orders with the **Delete Invoiced Blanket Purchase Orders** batch job.</span><span class="sxs-lookup"><span data-stu-id="f4122-115">You can delete blanket orders with the **Delete Invoiced Blanket Purchase Orders** batch job.</span></span>  

<span data-ttu-id="f4122-116">Invoiced service orders are usually deleted automatically after having been fully invoiced.</span><span class="sxs-lookup"><span data-stu-id="f4122-116">Invoiced service orders are usually deleted automatically after having been fully invoiced.</span></span> <span data-ttu-id="f4122-117">When an invoice is posted, a corresponding entry is created on the **Posted Service Invoices** page.</span><span class="sxs-lookup"><span data-stu-id="f4122-117">When an invoice is posted, a corresponding entry is created on the **Posted Service Invoices** page.</span></span> <span data-ttu-id="f4122-118">The posted document can be viewed on the **Posted Service Invoice** page.</span><span class="sxs-lookup"><span data-stu-id="f4122-118">The posted document can be viewed on the **Posted Service Invoice** page.</span></span>  

<span data-ttu-id="f4122-119">Service orders are not deleted automatically, however, if the total quantity on the order has been posted not from the service order itself, but from the **Service Invoice** page.</span><span class="sxs-lookup"><span data-stu-id="f4122-119">Service orders are not deleted automatically, however, if the total quantity on the order has been posted not from the service order itself, but from the **Service Invoice** page.</span></span> <span data-ttu-id="f4122-120">Then you may need to delete invoiced orders that were not deleted.</span><span class="sxs-lookup"><span data-stu-id="f4122-120">Then you may need to delete invoiced orders that were not deleted.</span></span> <span data-ttu-id="f4122-121">You can do this by running the **Delete Invoiced Service Orders** batch job.</span><span class="sxs-lookup"><span data-stu-id="f4122-121">You can do this by running the **Delete Invoiced Service Orders** batch job.</span></span>  

## <a name="compress-data-with-date-compression"></a><span data-ttu-id="f4122-122">Compress Data with Date Compression</span><span class="sxs-lookup"><span data-stu-id="f4122-122">Compress Data with Date Compression</span></span>

<span data-ttu-id="f4122-123">You can compress data in [!INCLUDE [prodshort](includes/prodshort.md)] so that you save space in the database, which in [!INCLUDE [prodshort](includes/prodshort.md)] online can even save you money.</span><span class="sxs-lookup"><span data-stu-id="f4122-123">You can compress data in [!INCLUDE [prodshort](includes/prodshort.md)] so that you save space in the database, which in [!INCLUDE [prodshort](includes/prodshort.md)] online can even save you money.</span></span> <span data-ttu-id="f4122-124">The compression is based on dates and works by combining several old entries into one new entry.</span><span class="sxs-lookup"><span data-stu-id="f4122-124">The compression is based on dates and works by combining several old entries into one new entry.</span></span> <span data-ttu-id="f4122-125">You can compress entries from closed fiscal years only, and only vendor ledger entries where the **Open** field is set to *No* .</span><span class="sxs-lookup"><span data-stu-id="f4122-125">You can compress entries from closed fiscal years only, and only vendor ledger entries where the **Open** field is set to *No* .</span></span>  

<span data-ttu-id="f4122-126">For example, vendor ledger entries from previous fiscal years can be compressed so that there is only one credit and one debit entry per account per month.</span><span class="sxs-lookup"><span data-stu-id="f4122-126">For example, vendor ledger entries from previous fiscal years can be compressed so that there is only one credit and one debit entry per account per month.</span></span> <span data-ttu-id="f4122-127">The amount in the new entry is the sum of all the compressed entries.</span><span class="sxs-lookup"><span data-stu-id="f4122-127">The amount in the new entry is the sum of all the compressed entries.</span></span> <span data-ttu-id="f4122-128">The date assigned is the starting date for the period that is compressed, such as the first day of the month (if the entries are compressed by month).</span><span class="sxs-lookup"><span data-stu-id="f4122-128">The date assigned is the starting date for the period that is compressed, such as the first day of the month (if the entries are compressed by month).</span></span> <span data-ttu-id="f4122-129">After the compression, you can still see the net change for each account in the previous fiscal year.</span><span class="sxs-lookup"><span data-stu-id="f4122-129">After the compression, you can still see the net change for each account in the previous fiscal year.</span></span>

<span data-ttu-id="f4122-130">The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and which period length you choose.</span><span class="sxs-lookup"><span data-stu-id="f4122-130">The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="f4122-131">There will always be at least one entry.</span><span class="sxs-lookup"><span data-stu-id="f4122-131">There will always be at least one entry.</span></span> <span data-ttu-id="f4122-132">When the batch job is finished, you can see the result in the **Date Compr. Registers** page.</span><span class="sxs-lookup"><span data-stu-id="f4122-132">When the batch job is finished, you can see the result in the **Date Compr. Registers** page.</span></span>

<span data-ttu-id="f4122-133">You can compress the following types of data in [!INCLUDE [prodshort](includes/prodshort.md)] using batch jobs:</span><span class="sxs-lookup"><span data-stu-id="f4122-133">You can compress the following types of data in [!INCLUDE [prodshort](includes/prodshort.md)] using batch jobs:</span></span>

* <span data-ttu-id="f4122-134">Bank account ledger entries</span><span class="sxs-lookup"><span data-stu-id="f4122-134">Bank account ledger entries</span></span>

  <span data-ttu-id="f4122-135">After the compression, with the **Retain Field Contents** facility, you can retain the contents of the **Document No., Our Contact** , **Global Dimension 1 Code** , and **Global Dimension 2 Code** fields.</span><span class="sxs-lookup"><span data-stu-id="f4122-135">After the compression, with the **Retain Field Contents** facility, you can retain the contents of the **Document No., Our Contact** , **Global Dimension 1 Code** , and **Global Dimension 2 Code** fields.</span></span>
* <span data-ttu-id="f4122-136">Vendor ledger entries</span><span class="sxs-lookup"><span data-stu-id="f4122-136">Vendor ledger entries</span></span>

  <span data-ttu-id="f4122-137">After the compression, the contents of the following fields are always retained: **Posting Date** , **Vendor No.** , **Document Type** , **Currency Code** , **Posting Group** , **Amount** , **Remaining Amount** , **Original Amt. (LCY)** , **Remaining Amt. (LCY)** , **Amount (LCY)** , **Purchase (LCY)** , **Inv. Discount (LCY)** , **Pmt. Disc. Given (LCY)** , and **Pmt. Disc. Possible** .</span><span class="sxs-lookup"><span data-stu-id="f4122-137">After the compression, the contents of the following fields are always retained: **Posting Date** , **Vendor No.** , **Document Type** , **Currency Code** , **Posting Group** , **Amount** , **Remaining Amount** , **Original Amt. (LCY)** , **Remaining Amt. (LCY)** , **Amount (LCY)** , **Purchase (LCY)** , **Inv. Discount (LCY)** , **Pmt. Disc. Given (LCY)** , and **Pmt. Disc. Possible** .</span></span>

  <span data-ttu-id="f4122-138">With the **Retain Field Contents** facility, you can also retain the contents of these additional fields: **Document No.** , **Buy-from Vendor No.** , **Purchaser Code** , **Global Dimension 1 Code** , and **Global Dimension 2 Code** .</span><span class="sxs-lookup"><span data-stu-id="f4122-138">With the **Retain Field Contents** facility, you can also retain the contents of these additional fields: **Document No.** , **Buy-from Vendor No.** , **Purchaser Code** , **Global Dimension 1 Code** , and **Global Dimension 2 Code** .</span></span>

<!--* General ledger entries
* Customer ledger entries-->
<!--* Fixed asset ledger entries
* G/L budget entries
* VAT entries

  After the compression the contents of the following fields are always retained: **Posting Date**, **Type**, **Closed**, **Gen. Bus. Posting Group**, **Gen. Prod. Posting Group**, **VAT Calculation Type**, **Base**, and **Amount**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Bill-to/Pay-to No.**, **EU 3-Party Trade**, **Country/Region Code**, and **Internal Ref. No.**.
* Insurance ledger entries
* Maintenance ledger entries
* Resource ledger entries

  After the compression, the contents of the following fields are retained: **Posting Date**, **Resource No.**, **Resource Group No.**, **Entry Type**, **Quantity**, **Total Cost**, **Total Price**, and **Chargeable**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Work Type Code**, **Job No.**, **Unit of Measure Code**, **Source Type**, **Source No.**. **Chargeable**, **
* Warehouse entries

  After the compression the contents of the following fields are always retained: **Registering Date**, **Location Code**, **Zone Code**, **Bin Code**, **Item No.**, **Quantity**, **Qty. (Base)**, **Bin Type Code**, **Entry Type**, **Variant Code**, **Qty. per Unit of Measure**, **Unit of Measure Code**, **Warranty Date**, **Expiration Date**, **Cubage**, and **Weight**.

  With the **Retain Field Contents** facility, you can also retain the contents of the **Serial No.** and **Lot No.** fields. -->

<span data-ttu-id="f4122-139">The number of entries that result from a Date Compress batch job depends on how many filters you set, which fields are combined, and which period length you choose.</span><span class="sxs-lookup"><span data-stu-id="f4122-139">The number of entries that result from a Date Compress batch job depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="f4122-140">There will always be at least one entry.</span><span class="sxs-lookup"><span data-stu-id="f4122-140">There will always be at least one entry.</span></span> 

> [!WARNING]
> <span data-ttu-id="f4122-141">Date Compression deletes entries, so you should always make a backup copy of the database before you run the batch job.</span><span class="sxs-lookup"><span data-stu-id="f4122-141">Date Compression deletes entries, so you should always make a backup copy of the database before you run the batch job.</span></span>

<span data-ttu-id="f4122-142">The following table lists the fields on the **Options** FastTab that are available on all batch jobs.</span><span class="sxs-lookup"><span data-stu-id="f4122-142">The following table lists the fields on the **Options** FastTab that are available on all batch jobs.</span></span> <span data-ttu-id="f4122-143">The **Retain Field Contents** section includes additional fields are described above.</span><span class="sxs-lookup"><span data-stu-id="f4122-143">The **Retain Field Contents** section includes additional fields are described above.</span></span>

|<span data-ttu-id="f4122-144">Field</span><span class="sxs-lookup"><span data-stu-id="f4122-144">Field</span></span>  |<span data-ttu-id="f4122-145">Description</span><span class="sxs-lookup"><span data-stu-id="f4122-145">Description</span></span>  |
|-------|-------------|
|<span data-ttu-id="f4122-146">Starting Date</span><span class="sxs-lookup"><span data-stu-id="f4122-146">Starting Date</span></span>     |<span data-ttu-id="f4122-147">Enter the first date to be included in the date compression.</span><span class="sxs-lookup"><span data-stu-id="f4122-147">Enter the first date to be included in the date compression.</span></span> <span data-ttu-id="f4122-148">The compression will affect all entries from this date to the Ending Date.</span><span class="sxs-lookup"><span data-stu-id="f4122-148">The compression will affect all entries from this date to the Ending Date.</span></span>|
|<span data-ttu-id="f4122-149">Ending Date</span><span class="sxs-lookup"><span data-stu-id="f4122-149">Ending Date</span></span>     |<span data-ttu-id="f4122-150">Enter the last date to be included in the date compression.</span><span class="sxs-lookup"><span data-stu-id="f4122-150">Enter the last date to be included in the date compression.</span></span> <span data-ttu-id="f4122-151">The compression will affect all entries from the Starting Date to this date.</span><span class="sxs-lookup"><span data-stu-id="f4122-151">The compression will affect all entries from the Starting Date to this date.</span></span>|
|<span data-ttu-id="f4122-152">Period Length</span><span class="sxs-lookup"><span data-stu-id="f4122-152">Period Length</span></span> |<span data-ttu-id="f4122-153">Select the length of the period whose entries will be combined.</span><span class="sxs-lookup"><span data-stu-id="f4122-153">Select the length of the period whose entries will be combined.</span></span> <span data-ttu-id="f4122-154">Choose the field to see the options.</span><span class="sxs-lookup"><span data-stu-id="f4122-154">Choose the field to see the options.</span></span> <span data-ttu-id="f4122-155">If you selected the period length *Quarter* , *Month* , or *Week* , only entries with a common accounting period are compressed.</span><span class="sxs-lookup"><span data-stu-id="f4122-155">If you selected the period length *Quarter* , *Month* , or *Week* , only entries with a common accounting period are compressed.</span></span>|
|<span data-ttu-id="f4122-156">Retain Field Contents</span><span class="sxs-lookup"><span data-stu-id="f4122-156">Retain Field Contents</span></span>     |<span data-ttu-id="f4122-157">Place check marks in the boxes if you want to retain the contents of certain fields even though the entries are compressed.</span><span class="sxs-lookup"><span data-stu-id="f4122-157">Place check marks in the boxes if you want to retain the contents of certain fields even though the entries are compressed.</span></span> <span data-ttu-id="f4122-158">The more fields you select, the more detailed the compressed entries will be.</span><span class="sxs-lookup"><span data-stu-id="f4122-158">The more fields you select, the more detailed the compressed entries will be.</span></span> <span data-ttu-id="f4122-159">If you do not select any of these fields, the batch job will create one entry per day, week, or another period, according to the period selected in the **Period Length** field.</span><span class="sxs-lookup"><span data-stu-id="f4122-159">If you do not select any of these fields, the batch job will create one entry per day, week, or another period, according to the period selected in the **Period Length** field.</span></span> |

## <a name="see-also"></a><span data-ttu-id="f4122-160">See Also</span><span class="sxs-lookup"><span data-stu-id="f4122-160">See Also</span></span>

[<span data-ttu-id="f4122-161">Administration</span><span class="sxs-lookup"><span data-stu-id="f4122-161">Administration</span></span>](admin-setup-and-administration.md)  
